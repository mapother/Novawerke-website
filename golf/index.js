(()=>{"use strict";var e,t={497:(e,t,o)=>{var n=o(437),i=o(888),s=o(728),a=o(24),r=o(417),d=o(509);window.three=n;let l=!0;"#debug"===window.location.hash&&(l=!0);let c=!1;const p=document.getElementsByClassName("start-btn")[0],w=document.getElementsByClassName("loading-screen")[0],m=document.getElementsByClassName("loading-gif")[0];p.addEventListener("click",(()=>{w.style.top="-110vh",c=!0}));const h=new n.LoadingManager;h.onLoad=()=>{console.log("loaded"),m.style.display="None",p.style.display="flex"};const u=document.querySelectorAll("audio"),g={width:window.innerWidth,height:window.innerHeight},f=new s.Z(h);f.setDecoderPath("./draco/");const y=new i.B(h);y.setDRACOLoader(f);const b=document.querySelector("canvas.webgl"),v=new n.Scene;window.scene=v;const x=new n.TextureLoader(h).load("./texture/grass.jpg");x.wrapS=8,x.wrapT=8,x.repeat.set(8,8);const S=new n.MeshStandardMaterial({map:x,side:n.FrontSide,normalMap:x}),C=new n.PlaneGeometry(100,100),E=new n.Mesh(C,S);E.lookAt(0,1,0),E.position.set(0,-.22,0),v.add(E);const O=new d.m;O.scale.setScalar(45e4);const M=n.MathUtils.degToRad(90),P=n.MathUtils.degToRad(180),j=(new n.Vector3).setFromSphericalCoords(1,M,P);O.material.uniforms.sunPosition.value=j,v.add(O);let k=null,L=new Array(3),A=new Array(3);y.load("./model/cart.glb",(e=>{k=e.scene,k.scale.set(.5,.5,.5),window.bot=k;for(const e of k.children)if(e.name.startsWith("Club")){let t=Number(e.name[5])-1;e.isUp=!1,L[t]=e;const o=new n.Vector3;A[t]=o.copy(e.position)}v.add(k),window.clubs=L}));const R=new n.PerspectiveCamera(75,g.width/g.height,.1,200);R.position.set(4.08,3.5,3.67),R.rotation.set(-.6,.58,.36),R.lookAt(new n.Vector3(0,0,1)),v.add(R),window.camera=R;let T=null;l&&(T=new a.N(R,b),T.enableDamping=!0);const N=new n.WebGLRenderer({canvas:b});N.setSize(g.width,g.height),N.setPixelRatio(Math.min(window.devicePixelRatio,2)),N.outputEncoding=n.sRGBEncoding,N.setClearAlpha(0),N.setClearColor(0,0),N.shadowMap.enabled=!0;const U=new n.Raycaster,z=new n.Vector2;window.addEventListener("pointermove",(e=>{z.x=e.clientX/window.innerWidth*2-1,z.y=-e.clientY/window.innerHeight*2+1}));const V=new n.AmbientLight("#d3d3d3",.9);v.add(V);const X=new n.DirectionalLight("#d3d3d3",.8);function Y(e){let t=Number(e[5])-1;L[t].isUp=!0,u.forEach((e=>{e.pause(),e.currentTime=0}));const o=new n.Vector3;o.copy(A[t]);const i=o.add(new n.Vector3(.912,1.58,0));new r.K({posX:L[t].position.x,posY:L[t].position.y,posZ:L[t].position.z}).to({posX:i.x,posY:i.y,posZ:i.z}).onUpdate((e=>{L[t].position.set(e.posX,e.posY,e.posZ)})).easing(r.GS.Exponential.In).start(),u[t].play()}function Z(e){let t=Number(e[5])-1;L[t].isUp=!1,new r.K({posX:L[t].position.x,posY:L[t].position.y,posZ:L[t].position.z}).to({posX:A[t].x,posY:A[t].y,posZ:A[t].z}).onUpdate((e=>{L[t].position.set(e.posX,e.posY,e.posZ)})).easing(r.GS.Exponential.In).start()}X.position.set(10,10,5),X.lookAt(new n.Vector3(0,0,0)),v.add(X),window.addEventListener("resize",(()=>{g.width=window.innerWidth,g.height=window.innerHeight,R.aspect=g.width/g.height,R.updateProjectionMatrix(),N.setSize(g.width,g.height),N.setPixelRatio(Math.min(window.devicePixelRatio,2))})),document.getElementsByClassName("animate-btn")[0].addEventListener("click",(()=>{if(k)for(const e of L)Z(e.name)}));let B=!1;setTimeout((()=>{B=!0}),3e3);const G=new n.Clock;let W=0,D=0;const F=e=>{const t=G.getElapsedTime();if(D=t-W,W=t,l&&c&&T.update(t),k&&c){U.setFromCamera(z,R);const e=U.intersectObjects(L);for(let t=0;t<e.length;t++)if(B){for(const o of L)o.name!=e[t].object.name&&Z(o.name);if(e[t].object.isUp)break;Y(e[t].object.name),B=!1,setTimeout((()=>{B=!0}),2e3)}}N.render(v,R),r.yo(e),window.requestAnimationFrame(F)};F()}},o={};function n(e){var i=o[e];if(void 0!==i)return i.exports;var s=o[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,o,i,s)=>{if(!o){var a=1/0;for(c=0;c<e.length;c++){for(var[o,i,s]=e[c],r=!0,d=0;d<o.length;d++)(!1&s||a>=s)&&Object.keys(n.O).every((e=>n.O[e](o[d])))?o.splice(d--,1):(r=!1,s<a&&(a=s));if(r){e.splice(c--,1);var l=i();void 0!==l&&(t=l)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,i,s]},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={57:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var i,s,[a,r,d]=o,l=0;if(a.some((t=>0!==e[t]))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(d)var c=d(n)}for(t&&t(o);l<a.length;l++)s=a[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},o=self.webpackChunkgolf_3d=self.webpackChunkgolf_3d||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=n.O(void 0,[548],(()=>n(497)));i=n.O(i)})();
//# sourceMappingURL=index.js.map