<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Novawerke AI ‚Äì The Magic Glove‚Ñ¢</title>
  <meta name="description" content="The Magic Glove‚Ñ¢: AI-powered feedback for golf and performance training. Join the Founding Members List.">
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" type="image/png" href="img/favicon.png" />

  <!-- Page-scoped styles to guarantee legibility and Xmas clarity -->
  <style>
    /* Keep the invitation text white in the left card */
    .tmg-hero .offer-inline,
    .tmg-hero .offer-inline * { color: #fff !important; }
    .tmg-hero .offer-inline strong { color: inherit !important; font-weight: 700; }
    .offer-inline .offer-list { margin: 0.75rem 0 0; padding-left: 1.1rem; }
    .offer-inline .offer-list li { margin: .35rem 0; }

    /* Helper styles for the checkout section */
    .pay-help { margin-top: .5rem; font-size: .95rem; opacity: .95; }
    .pay-help .nowrap { white-space: nowrap; }
    .tiny-note { font-size: .85rem; opacity: .9; }

    /* Optional small field for gift message (no big form) */
    .gift-message {
      margin-top: .75rem;
      display: flex;
      gap: .5rem;
      align-items: flex-start;
    }
    .gift-message label { margin-top: .35rem; white-space: nowrap; color:#fff; }
    .gift-message textarea {
      width: 100%;
      min-height: 70px;
      resize: vertical;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.18);
      padding: .5rem .65rem;
      background: rgba(0,0,0,0.25);
      color: #fff;
    }

    /* Xmas section readability + branding */
    #preorder {
      position: relative;
      color: #fff;
    }
    #preorder::before {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.45); /* subtle darken for legibility */
      z-index: 0;
      border-radius: 20px; /* match panel rounding */
    }
    #preorder > .container { position: relative; z-index: 1; }

    .xmas-badge {
      display: inline-block;
      background: #c1121f;
      color: #fff;
      font-weight: 800;
      letter-spacing: .5px;
      text-transform: uppercase;
      padding: .25rem .5rem;
      border-radius: 8px;
      margin-bottom: .5rem;
    }
    .xmas-sub { margin: .25rem 0 1rem 0; opacity: .95; color:#fff; }
    .xmas-purchase-note { margin-top: .5rem; font-size: .95rem; opacity: .95; color:#fff; }

    /* A lightweight ‚Äúblocking‚Äù notice if no shipping comes back */
    .shipping-required {
      display: none;
      margin-top: .75rem;
      color: #ffb0b0;
      background: rgba(220,0,0,0.15);
      border: 1px solid rgba(220,0,0,0.35);
      padding: .5rem .75rem;
      border-radius: 8px;
    }
  </style>

  <!-- PayPal JS SDK (replace YOUR_LIVE_CLIENT_ID) -->
  <script src="https://www.paypal.com/sdk/js?client-id=YOUR_LIVE_CLIENT_ID&currency=USD&components=buttons"></script>
</head>

<body class="magic-glove">
  <!-- Shared Header -->
  <header class="site-header">
    <div class="container">
      <a class="brand" href="index.html">
        <img src="img/Novawerke AI Logo.png" alt="Novawerke AI Logo" style="height:48px;width:auto;">
      </a>
      <nav class="main-nav">
        <a href="index.html">Home</a>
        <a href="AIGTI.html">Government Consulting</a>
        <a href="magic-glove.html" class="active">Magic Glove‚Ñ¢</a>
        <a href="nelson.html">NELSON‚Ñ¢</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <!-- Hero Headline Above Glove Card -->
  <section class="headline-panel">
    <div class="container">
      <h1 class="goat-headline">
        Stop Practicing.<br>
        Start Training to Become the <span class="highlight">GOAT</span> Golfer.
      </h1>
    </div>
  </section>

  <main>
    <!-- Primary Section with Glove + Golf Pro Background -->
    <section class="tmg-hero">
      <div class="container">
        <div class="tmg-feature">
          <div class="tmg-copy">
            <h1>The Magic Glove‚Ñ¢ ‚Äî An AI Tool Built for Feel, Designed for Feedback</h1>
            <p>
              A performance glove that captures grip dynamics in real time using "AI" ‚Äî pressure, timing, and consistency ‚Äî so golfers can train smarter and coaches can quantify progress.
              Designed for practice and play, with edge-AI analysis that keeps latency near zero.
            </p>
            <p>
              Early testers get private updates and priority access. Golf is just the beginning ‚Äî our artificial intelligence architecture
              extends to rehabilitation and high-performance training across sports.
            </p>

            <!-- Inline Founding Members invitation -->
            <div class="offer-inline">
              <h2>An Invitation to the Founding Members Club</h2>
              <p>
                We are inviting the <strong>first 100</strong> serious golfers to help us shape the future of golf training.
                As a Founding Member, you are not just a customer; you are a partner. Join the first 100 testers and receive early access.
              </p>
              <p style="font-size: 1.8em;">
                Get the <strong>Magic Glove‚Ñ¢</strong> for just <strong>$99</strong>!
              </p>
              <ul class="offer-list">
                <li>Receive the <strong>AI Coaching</strong> subscription <strong>free for life</strong>.</li>
                <li>Get early access to new features and private builds.</li>
                <li>Have a real voice in the product‚Äôs evolution with direct feedback sessions.</li>
              </ul>

              <!-- Keep button at the end of the text -->
              <div class="cta-row">
                <a href="#preorder" class="btn btn-primary" id="ctaPreorder">Pre-Order and Become a Founding Member</a>
              </div>
            </div>
          </div>

          <img src="img/tmg-photo.png" alt="The Magic Glove product photo" class="tmg-image" />
        </div>
      </div>
    </section>

    <!-- Christmas Gift Pre-Order (PayPal checkout, no big form) -->
    <section id="preorder" class="panel">
      <div class="container">
        <span class="xmas-badge">Christmas Gift Pre-Order</span>
        <h2>Gift a Magic Glove‚Ñ¢ ‚Äî Print the Card Today üéÑ</h2>
        <p class="xmas-sub">
          You‚Äôre purchasing the <strong>Christmas Gift Card pre-order</strong> for the Magic Glove‚Ñ¢ at
          <strong>$99 (Founding Member price)</strong>. We‚Äôll mail a Christmas card using the shipping address you provide at checkout.
          Hardware ships estimated <strong>Feb‚ÄìMar 2026</strong>.
        </p>

        <!-- Optional small gift message (no address form) -->
        <div class="gift-message">
          <label for="gift_message"><strong>Include a Christmas message</strong></label>
          <textarea id="gift_message" placeholder="Write a short note to include on the Christmas card‚Ä¶"></textarea>
        </div>

        <!-- PayPal buttons render here -->
        <div id="paypal-button-container" class="cta-row" style="margin-top: 1rem;"></div>

        <!-- Helper text so people know they can pay by card -->
        <div class="pay-help">
          Secure checkout via <strong>PayPal</strong> or any major credit/debit card ‚Äî
          <em>no PayPal account required.</em>
        </div>

        <!-- Explicit purchase clarity -->
        <p class="xmas-purchase-note">
          This checkout is for the <strong>Christmas Gift Card pre-order ($99)</strong>. The Founding Members offer above explains the perks you get with this purchase.
        </p>

        <!-- Gift Card download; auto-clicked after successful payment -->
        <div class="cta-row" style="margin-top: 1rem;">
          <a href="assets/Magic-Glove-Gift-Card.pdf" class="btn secondary" id="btnGiftCard" download>Download Gift Card</a>
        </div>

        <p id="giftThanks" class="tiny-note" style="display:none; margin-top:.5rem;">
          Thanks! We received your order. Your gift card download should start automatically. We‚Äôll mail your Christmas card using your PayPal shipping address.
        </p>

        <!-- Notice if no shipping is returned (edge case) -->
        <div id="shipRequired" class="shipping-required">
          We need a shipping address to mail your Christmas card. Please ensure you choose or add a shipping address in the PayPal window.
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container">
      <p>¬© <span id="y"></span> Novawerke AI | All Rights Reserved</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    // Set year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Smooth scroll from inline CTA to preorder section
    (function () {
      const ctaPreorder = document.getElementById('ctaPreorder');
      const preorder    = document.getElementById('preorder');
      if (ctaPreorder && preorder) {
        ctaPreorder.addEventListener('click', function(e){
          e.preventDefault();
          preorder.scrollIntoView({ behavior: 'smooth', block: 'start' });
        });
      }
    })();

    // PayPal Smart Buttons: force shipping, capture, send to Formspree, auto-download gift card
    (function () {
      const giftBtn   = document.getElementById('btnGiftCard');
      const giftMsgEl = document.getElementById('gift_message');
      const thanksEl  = document.getElementById('giftThanks');
      const shipReqEl = document.getElementById('shipRequired');

      if (!window.paypal || !document.getElementById('paypal-button-container')) return;

      paypal.Buttons({
        style: { layout: 'horizontal', label: 'pay', shape: 'pill' },

        // Create a $99 order and request a shipping address every time
        createOrder: function(data, actions) {
          return actions.order.create({
            purchase_units: [{
              custom_id: 'XMAS_PREORDER_2025',
              description: 'Christmas Gift Pre-Order ‚Äî Magic Glove‚Ñ¢ (Founding Member $99)',
              amount: { value: '99.00', currency_code: 'USD' },
              category: 'PHYSICAL_GOODS'
            }],
            application_context: {
              shipping_preference: 'GET_FROM_FILE' // prompt/require a shipping address
            }
          });
        },

        // Capture payment, collect shipping + payer details, send to Formspree, then download gift card
        onApprove: function(data, actions) {
          return actions.order.capture().then(async function(order) {
            try {
              const pu = order?.purchase_units?.[0];
              const shipping = pu?.shipping;
              const payer = order?.payer || {};

              // If no shipping returned, block fulfillment and nudge buyer to include one
              if (!shipping || !shipping.address) {
                if (shipReqEl) shipReqEl.style.display = 'block';
                alert('Please include a shipping address in PayPal so we can mail the Christmas card.');
                return; // do not fulfill without shipping
              }

              // Prepare payload for your Formspree endpoint
              const payload = {
                product_type: 'Christmas Gift Pre-Order',
                price: '99.00',
                order_id: order?.id || '',
                custom_id: pu?.custom_id || '',
                payer_email: payer?.email_address || '',
                payer_name: [payer?.name?.given_name, payer?.name?.surname].filter(Boolean).join(' '),
                ship_name: shipping?.name?.full_name || '',
                ship_addr1: shipping?.address?.address_line_1 || '',
                ship_addr2: shipping?.address?.address_line_2 || '',
                ship_city:  shipping?.address?.admin_area_2 || '',
                ship_state: shipping?.address?.admin_area_1 || '',
                ship_zip:   shipping?.address?.postal_code   || '',
                ship_country: shipping?.address?.country_code || '',
                gift_message: (giftMsgEl?.value || '')
              };

              // Send to Formspree silently
              await fetch('https://formspree.io/f/mrbypgrq', {
                method: 'POST',
                headers: { 'Accept': 'application/json' },
                body: new URLSearchParams(payload)
              });

              // Show confirmation and trigger gift card download
              if (thanksEl) thanksEl.style.display = 'block';
              if (giftBtn)  giftBtn.click();
            } catch (e) {
              console.error(e);
              alert('Payment captured, but we could not record your details automatically. We will contact you to confirm the mailing address.');
            }
          });
        },

        onError: function(err) {
          console.error(err);
          alert('Payment error. Please try again or contact us.');
        }
      }).render('#paypal-button-container');
    })();
  </script>
</body>
</html>
